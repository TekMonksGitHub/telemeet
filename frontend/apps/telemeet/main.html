<!-- 
(C) 2020 TekMonks. All rights reserved.
-->
<style>
@import url('https://fonts.googleapis.com/css2?family=Red+Hat+Text:wght@100;200;300;400;500;600&display=swap');

body::-webkit-scrollbar {
    width: 0.5em !important;
    height: 0.5em !important;
    scroll-behavior: smooth !important;
}

body::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3) !important;
    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3) !important;
    margin: 5em;
    border-radius: 1em !important;
}

body::-webkit-scrollbar-thumb {
    background-color: darkgrey !important;
    border-radius: 1em !important;
    background-clip: padding-box;
}

body, html {
	margin: 0;
	padding: 0;
	font-family: 'Red Hat Text';
	min-width: 880px;
	min-height: 640px;
	overflow: overlay;
}

body::after {
	content: "";
	background: url(./img/logob.png);
	background-size: auto 100%;
	width: 100%;
	height: 120%;
	top: -20%;
	left: -10%;
	background-repeat: no-repeat;
	opacity: 0.05;
	position: absolute;
	z-index: -1;
	bottom: 0;
}

span#desktopheader {
	color: #4FB4ED;
	user-select: none;
    overflow: hidden;
    white-space: nowrap;
	height: 5em;
    display: inline-flex;
    align-items: center;
	justify-content: space-between;
    width: calc(100% - 4em);
	margin: 1em 2em 0 2em;
}

span#desktopheader > img#textlogo {width: 6em;}

span#desktopheader > span#rightheader {
	height: 100%;
    display: inline-flex;
	flex-direction: row;
    align-items: center;
	width: 80%;
    justify-content: space-between;
}

span#desktopheader > span#rightheader > span#signoff > img {
	height: 2em;
	width: 2em;
}

span#desktopheader > span#rightheader > span#greeting {
	display: flex;
    align-items: center;
}
span#desktopheader > span#rightheader > span#greeting > span-with-menu#status {
	border-radius: 50%;
	box-shadow: 1px 1px 20px -3px #41cf70;
}
span#desktopheader > span#rightheader > span#greeting > span-with-menu#status.working {box-shadow: 1px 1px 20px -3px #41cf70}
span#desktopheader > span#rightheader > span#greeting > span-with-menu#status.break {box-shadow: 1px 1px 20px -3px #bdbd00}
span#desktopheader > span#rightheader > span#greeting > span-with-menu#status.offline {box-shadow: 1px 1px 20px -3px #cc0000}
span#desktopheader > span#rightheader > span#greeting > span#name {margin-left: 1.5em;}
span#desktopheader > span#rightheader > span#search {
	width: 50%;
    position: relative;
}
span#desktopheader > span#rightheader > span#search > input#searchtext {
	padding: 0.8em;
    outline: none;
    border: 1px solid #4FB4ED;
    border-radius: 0.5em;
    width: 100%;
    padding-left: 3em;
}
span#desktopheader > span#rightheader > span#search > img#searchimg {
	position: absolute;
    margin-left: 0.5em;
    height: 2em;
    top: 0.2em;
}

div#maincontent {
	background-color: transparent;
	height: calc(100% - 9.6em);
	margin: 1em 5em 2.5em 5em;
	display: flex;
	flex-direction: column;
}

div#lowercontent {
	height: 43%;
    overflow: hidden;
    display: flex;
    flex-direction: row;
	justify-content: space-between;
}

card-roll#allrooms {
	height: 57%;
    margin-bottom: 2em;
}

telemeet-join#telemeet {
	margin-right: 2em;
	width: 33.33%;
	min-width: 10em;
}

card-roll#myrooms {
	background-color: #2ECC71;
    border-radius: 0.5em;
    padding: 0.5em 1em 0.3em 1em;
	width: min(66.67%, calc(100% - 14em))
}

span#mobilefooter {
	width: 100%;
    height: 4em;
    position: fixed;
    bottom: 0;
    background: #4FB4ED;
    border-radius: 0.2em 0.2em 0 0;
	display: none;
	flex-direction: row;
	align-items: center;
    padding: 1em;
    box-sizing: border-box;
    justify-content: space-between;
}
</style>
{{{APP_CONSTANTS.MOBILE_MEDIA_QUERY_START}}}
	body, html {min-width: 0; min-height: 0;}
	span#desktopheader {margin: 0 1em 0 1em; width: calc(100% - 2em);}
	span#rightheader {width: 100% !important;}
	span#search {width: 100% !important;}
	img#textlogo, span#greeting, span-with-menu#gear, span#signoff {display: none !important;}
	div#maincontent {height: auto; margin: 0; padding: 1em 1em 0em 1em;}
	card-roll#allrooms {height: 30vh; min-height: 15em;}
	div#lowercontent {height: auto; flex-direction: column-reverse;}
	telemeet-join#telemeet {margin: 0; height: 30vh; width: 100%; min-height: 40vw; margin-bottom: 5em;}
	card-roll#myrooms {padding-bottom: 1em; margin-bottom: 2em; box-sizing: border-box; height: 30vh; 
		width: 100%;  min-height: 15em;}
	span#mobilefooter {display: flex;}
{{{APP_CONSTANTS.MOBILE_MEDIA_QUERY_END}}}

<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="expires" content="-1">

	<link href="./img/favicon.ico" rel="icon" type="image/x-icon">

	<script type="module">
	import {main} from "./js/main.mjs"; monkshu_env.apps.telemeet.main = main; main.showLoginMessages();
	import "./components/dialog-box/dialog-box.mjs";
	import "./components/context-menu/context-menu.mjs";
	import "./components/telemeet-join/telemeet-join.mjs";
	import "./components/span-with-menu/span-with-menu.mjs";
	import "/framework/components/html-fragment/html-fragment.mjs";
	import "./components/spread-sheet/spread-sheet.mjs";
	import "./components/card-roll/card-roll.mjs";
	import "./components/image-picker/image-picker.mjs";
	import {loginmanager} from "./js/loginmanager.mjs"; monkshu_env.apps.telemeet.loginmanager = loginmanager;
	</script>
		
	<title>{{i18n.Title}}</title>
</head>

<body style="margin: 0%">
<span id="desktopheader">
	<img id="textlogo" src="./img/textlogo.svg">
	<span id="rightheader">
	<span id="greeting">
	<span-with-menu id="status" styleBody="url(./pages/menu.stylebody.css)"><img src="./img/person.svg" style="width: 3em; height: 3em;">
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeStatus('Working')" label="{{i18n.Working}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeStatus('Break')" label="{{i18n.OnBreak}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeStatus('Offline')" label="{{i18n.Offline}}"></menu-item>
	</span-with-menu>
	<span id="name">{{i18n.Hi}} {{#_org_monkshu_session}}username{{/_org_monkshu_session}}!</span>
	</span>
	<span id="search">
		<img id="searchimg" src="./img/search.svg">
		<input type="text" id="searchtext" placeholder="{{i18n.Search}}" onkeyup='monkshu_env.apps.telemeet.main.searchModified(this.value, this)'>
	</span>
	<span-with-menu id="gear" styleBody="url(./pages/menu.stylebody.css)"><img src="./img/settings.svg" style="height: 2em;width: 2em;vertical-align: middle;">
		<menu-item onclick="monkshu_env.apps.telemeet.main.changePassword(this)" label="{{i18n.ChangePassword}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.showOTPQRCode(this)" label="{{i18n.ChangePhone}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeProfile(this)" label="{{i18n.ChangeProfile}}"></menu-item>
		{{#admin}}<menu-item onclick="monkshu_env.frameworklibs.router.navigate(APP_CONSTANTS.MANAGE_HTML)" label="{{i18n.ManageUsers}}"></menu-item>{{/admin}}
	</span-with-menu>
	<span id="signoff"><img src="./img/poweroff.svg" onclick="monkshu_env.apps.telemeet.loginmanager.logout()"></span>
	</span>
</span>

<div id="maincontent">
	<card-roll id="allrooms" value="{{{allroomsList}}}"></card-roll>
	<div id="lowercontent">
		<telemeet-join id="telemeet"></telemeet-join>
		<card-roll id="myrooms" background="#00C24E" value="{{{myroomsList}}}" title="{{i18n.MyRooms}}"></card-roll>
	</div>
</div>

<span id="mobilefooter">
	<img src="./img/mobilefooter_home.svg" onclick="monkshu_env.frameworklibs.router.navigate(APP_CONSTANTS.MAIN_HTML)">
	<span-with-menu id="statusmobile" bottommenu="true" styleBody="url(./pages/menu.stylebody.css)"><img src="./img/mobilefooter_person.svg">
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeStatus('Working')" label="{{i18n.Working}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeStatus('Break')" label="{{i18n.OnBreak}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeStatus('Offline')" label="{{i18n.Offline}}"></menu-item>
	</span-with-menu>
	<span-with-menu id="gearmobile" bottommenu="true" styleBody="url(./pages/menu.stylebody.css)"><img src="./img/mobilefooter_settings.svg">
		<menu-item onclick="monkshu_env.apps.telemeet.main.changePassword(this)" label="{{i18n.ChangePassword}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.showOTPQRCode(this)" label="{{i18n.ChangePhone}}"></menu-item>
		<menu-item onclick="monkshu_env.apps.telemeet.main.changeProfile(this)" label="{{i18n.ChangeProfile}}"></menu-item>
		{{#admin}}<menu-item onclick="monkshu_env.frameworklibs.router.navigate(APP_CONSTANTS.MANAGE_HTML)" label="{{i18n.ManageUsers}}"></menu-item>{{/admin}}
	</span-with-menu>
	<img src="./img/mobilefooter_logout.svg" onclick="monkshu_env.apps.telemeet.loginmanager.logout()">
</span>

<dialog-box id="dialog"></dialog-box>

<context-menu id="maincontextmenu" styleBody="span.menubreak > hr{background-color: #bbbbbb;} span.menuitem > span.menuicon {display:none} div#menu {border:none; background: #FFFFFF;} span.menuitem > span.menutext {padding: 0.5em 2em 0.5em 1em; font-size: small;} span.menuitem > span.menutext:hover {background-color: #41cf70; color: #ffffff;}"></context-menu>

</body>
</html>
